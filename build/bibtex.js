javascript:var%20bbt=%7Bns:%22bibTexBookmarklet%22,suffix:%22%7Cbbtsave%7C%22,ls:localStorage,url:document.location.href.split(%22?%22)%5B0%5D,bibtexQuery:document.querySelector(%22.bibtex-info%22),savedData:!1,toggleButton:%7BshowText:%22Liste%20anzeigen%22,hideText:%22Liste%20verbergen%22%7D,getBox:function()%7Breturn%20document.getElementById(this.ns)%7D,displayForm:function()%7Bvar%20a,b=document.getElementById(this.ns+%22Form%22);return%20a='%3Cform%20action=%22#%22%20onsubmit=%22return%20bbt.save();%22%3E',a+=this.bibtexQuery?'%3Cinput%20type=%22hidden%22%20name=%22bibtexCode%22%20value=%22'+this.bibtexQuery.innerHTML+'%22/%3E':'%3Ctextarea%20rows=%224%22%20name=%22bibtexCode%22%20placeholder=%22BibTeX-Code%20eingeben%22%3E%3C/textarea%3E',a+='%3Cinput%20name=%22bibtexNotes%22%20placeholder=%22Stichworte%20(optional)%22/%3E',a+='%3Cinput%20type=%22submit%22%20value=%22Speichern%22/%3E',a+=%22%3C/form%3E%22,b?void(b.innerHTML=a):a%7D,close:function()%7Bvar%20a=this.getBox();return%20a?(document.body.removeChild(a),!0):!1%7D,save:function(a)%7Bfor(var%20b=document.querySelector(%22#%22+this.ns+%22%20form%22),c=b.querySelectorAll(%22input,%20textarea%22),d=%7BDatum:Date.now()%7D,e=this.bibtexQuery?%22%22:this.suffix+d.Datum,f=0;f%3Cc.length;f++)if(%22submit%22!==c%5Bf%5D.type&&c%5Bf%5D.value)%7Bvar%20g=c%5Bf%5D.name.replace(%22bibtex%22,%22%22);d%5Bg%5D=c%5Bf%5D.value%7Dreturn%20Object.keys(d).length?(this.ls.setItem(this.ns+this.url+e,JSON.stringify(d)),this.savedDataQuery(),this.status(%22saved%22),this.datasetOutput(),this.listOutput(),!1):(this.status(%22noDataToSave%22),!1)%7D,%22delete%22:function(a)%7Breturn%20this.ls.removeItem(a),this.savedDataQuery(),this.savedData&&this.bibtexQuery%7C%7Cthis.displayForm(),this.status(%22deleted%22,this.urlInKey(a,!0)),this.datasetOutput(),this.listOutput(),!1%7D,toggleList:function()%7Bvar%20a=document.querySelector(%22#%22+this.ns+%22Buttons%20button%22),b=document.getElementById(this.ns+%22ListBox%22);return%20b.classList.contains(%22bbtHidden%22)?(this.listOutput(),b.classList.remove(%22bbtHidden%22),a.innerHTML=this.toggleButton.hideText):(b.classList.add(%22bbtHidden%22),a.innerHTML=this.toggleButton.showText),this.status(),!1%7D,savedDataQuery:function()%7Bfor(var%20a=0;a%3Cthis.ls.length;a++)%7Bvar%20b=this.ls.key(a);if(b.indexOf(this.ns+this.url)%3E=0)return%20void(this.savedData=this.ls.getItem(b))%7Dthis.savedData=!1%7D,urlInKey:function(a,b)%7Bif(a&&!(a.indexOf(this.ns)%3C0))%7Ba=a.replace(this.ns,%22%22),b&&(a=a.replace(/%5Ehttp(?:s)?:%5C/%5C//,%22%22));var%20c=a.split(this.suffix);return%20c%5B0%5D%7D%7D,outputDate:function(a)%7Bvar%20b=new%20Date(a),c=%5B%22Januar%22,%22Februar%22,%22M%C3%A4rz%22,%22April%22,%22Mai%22,%22Juni%22,%22Juli%22,%22August%22,%22September%22,%22Oktober%22,%22November%22,%22Dezember%22%5D;return%20b.getDay()+%22.%22+c%5Bb.getMonth()%5D+%22%20%22+b.getFullYear()+%22,%20%22+b.getHours()+%22:%22+(%220%22+b.getMinutes()).substr(-2)%7D,status:function(a,b)%7Bvar%20c,d=document.getElementById(this.ns+%22Status%22);switch(a%7C%7C(a=%22default%22),a)%7Bcase%22dataExisting%22:c=%22Die%20BibTeX-Daten%20f%C3%BCr%20diese%20Seite%20sind%20bereits%20gespeichert.%22;break;case%22bibtexInPage%22:c=%22BibTeX-Daten%20auf%20dieser%20Seite%20gefunden.%22;break;case%22noBibtexInPage%22:c=%22Keine%20BibTeX-Daten%20auf%20dieser%20Seite%20gefunden.%22;break;case%22noDataToSave%22:c=%22Sie%20haben%20keine%20Daten%20zum%20Speichern%20eingegeben.%22;break;case%22saved%22:c=%22BibTeX-Daten%20wurden%20gespeichert.%22;break;case%22deleted%22:c=%22Datensatz%20f%C3%BCr%20%22+b+%22%20wurde%20gel%C3%B6scht.%22;break;case%22default%22:c=%22%22%7Dreturn%20d&&(d.innerHTML=%22%3Cp%3E%22+c+%22%3C/p%3E%22),%22%3Cp%3E%22+c+%22%3C/p%3E%22%7D,datasetRead:function(a,b,c)%7Bvar%20d,e,f,g,h=%5B%5D;if(!this.savedData&&!a)return%20h;a?d=this.ls.getItem(a):(d=this.savedData,a=this.ns+this.url),e=JSON.parse(d),f=Object.keys(e);for(var%20i=0;i%3Cf.length;i++)%7Bvar%20j=e%5Bf%5Bi%5D%5D;%22Datum%22===f%5Bi%5D&&(g=j,j=this.outputDate(g));var%20k=c?%22%3Cb%3E%22+f%5Bi%5D+%22%3C/b%3E:%20%22+j:f%5Bi%5D+%22:%20%22+j.replace(/%5Cs+$/,%22%22).replace(/%5B%5Cn%5Cr%5D+/g,%22%250A%22);h.push(k)%7Dreturn%20h.length?(b&&h.unshift(g),c&&h.push(%22%3Cbutton%20onclick=%5C%22return%20bbt.delete('%22+a+%22')%5C%22%3EDatensatz%20L%C3%B6schen%3C/button%3E%22),h):h%7D,datasetOutput:function()%7Bvar%20a=document.getElementById(this.ns+%22Data%22),b=%5B%5D,c=%22%3Cp%3E%22,d=%7B%7D,e=%5B%5D;return%20this.bibtexQuery?(d.single=this.datasetRead(!1,!1,!0),0===d.single.length&&delete%20d.single):d=this.datasetsOutput(!1,!0),e=Object.keys(d),e.length?1===e.length?(c+=%22%3Cb%3EAuf%20dieser%20Seite%20gespeicherter%20Datensatz:%3C/b%3E%3Cbr/%3E%22,b=d%5Be%5B0%5D%5D,c+=b.join(%22%3Cbr/%3E%22)):c+=%22%3Cb%3E%22+e.length+%22%20BibTeX-Datens%C3%A4tze%3C/b%3E%20auf%20dieser%20Seite%20gespeichert%22:c+=%22Keine%20BibTeX-Daten%20auf%20dieser%20Seite%20gespeichert.%22,c+=%22%3C/p%3E%22,a&&(a.innerHTML=c),c%7D,datasetsOutput:function(a,b)%7Bfor(var%20c=%7B%7D,d=0;d%3Cthis.ls.length;d++)%7Bvar%20e,f,g,h=this.ls.key(d),i=%22%22;if(e=this.urlInKey(h))%7Bif(f=this.datasetRead(h,!0,a),g=f.shift(),b)%7Bif(e!==this.url)continue%7Delse%20e===this.url&&(i='%20class=%22bbtThisPage%22');a?f.unshift('%3Ca%20href=%22'+e+'%22%20'+i+%22%3E%22+this.urlInKey(h,!0)+%22%3C/a%3E%22):f.unshift(e),c%5Bg%5D=f%7D%7Dreturn%20c%7D,listOutput:function()%7Bvar%20a=document.getElementById(this.ns+%22List%22),b=%22%22,c=this.datasetsOutput(!0),d=Object.keys(c).sort().reverse();return%20d.forEach(function(a)%7Bb+=%22%3Cli%3E%22+c%5Ba%5D.join(%22%3Cbr/%3E%22)+%22%3C/li%3E%22%7D),b%7C%7C(b=%22%3Cli%3ENoch%20keine%20Daten%20gespeichert.%3C/li%3E%22),a&&(a.innerHTML=b),b%7D,%22export%22:function()%7Bvar%20a=%22%22,b=this.datasetsOutput(!1),c=Object.keys(b).sort();c.forEach(function(c)%7Ba+=b%5Bc%5D.join(%22%250A%22)+%22%250A%250A%22%7D),null===this.ls.getItem(%22bbtExportAlert%22)&&(alert(%22Bitte%20speichern%20Sie%20den%20Inhalt%20des%20Popup-Fensters%20(z.B.%20mit%20Ctrl+S%20oder%20%C3%BCber%20das%20Kontextmen%C3%BC),%20das%20sich%20gleich%20%C3%B6ffnen%20wird,%20um%20Ihre%20Daten%20zu%20sichern.%22),this.ls.setItem(%22bbtExportAlert%22,1));this.popup(%22bbtexport%22,%22plain%22,a);return!1%7D,popup:function(a,b,c)%7Breturn%20window.open(%22data:text/%22+b+%22;charset=utf-8,%22+c,a,%22width=270,height=350,top=100,left=%22+(window.innerWidth-250)+%22,dependent=yes%22)%7D,info:function()%7Bvar%20a=%22%3Ch3%3EBibTeX-Bookmarklet%3C/h3%3E%22;return%20a+='%3Cp%3EDieses%20Bookmarklet%20ist%20daf%C3%BCr%20gedacht,%20auf%20Webseiten%20gefundenen%20%3Ca%20href=%22https://de.wikipedia.org/wiki/BibTeX%22%3EBibTeX-Code%3C/a%3E%20zu%20speichern%20und%20gesammelte%20Daten%20als%20Liste%20auszugeben.%20Wenn%20Sie%20das%20Bookmarklet%20zum%20Erfassen%20von%20c%5C't-Artikeln%20anhand%20einer%20Suche%20im%20heise-Shop%20nutzen,%20wird%20der%20Code%20auf%20Knopfdruck%20automatisch%20%C3%BCbernommen%20und%20die%20Software%20pr%C3%BCft,%20ob%20Sie%20diese%20Fundstelle%20kurz%20zuvor%20schon%20einmal%20erfasst%20haben.%20Von%20anderen%20Seiten%20aus%20m%C3%BCssen%20Sie%20den%20BibTeX-Code%20selbst,%20zum%20Beispiel%20per%20Cut&amp;Paste%20in%20das%20Pop-up%20%C3%BCbertragen.%3C/p%3E',a+=%22%3Cp%3E%3Cb%3EAchtung:%3C/b%3E%20Das%20BibTeX-Bookmarklet%20speichert%20die%20Daten%20nur%20in%20Ihrem%20Browser.%20Daher%20k%C3%B6nnen%20Sie%20nur%20auf%20Daten%20von%20Seiten%20zugreifen,%20die%20innerhalb%20der%20gerade%20ge%C3%B6ffneten%20Domain%20liegen.%20Um%20die%20versehentliche%20L%C3%B6schung%20der%20Daten%20zu%20vermeiden,%20sollten%20Sie%20die%20Daten%20%C3%BCber%20den%20Button%20%3Cq%3EExportieren%3C/q%3E%20im%20Pop-up%20des%20Bookmarklets%20regelm%C3%A4%C3%9Fig%20als%20Textdatei%20auf%20Festplatte%20sichern.%3C/p%3E%22,this.popup(%22bbtinfo%22,%22html%22,a),!1%7D%7D;(function(){var%20style,box;void%200===localStorage&&alert(%22Die%20f%C3%BCr%20das%20BibTeX-Bookmarklet%20notwendige%20Speichertechnik%20localStorage%20funktioniert%20nicht.%20Haben%20Sie%20eine%20Webseite%20ge%C3%B6ffnet?%20Arbeiten%20Sie%20mit%20einem%20sehr%20alten%20Browser?%22),bbt.close()%7C%7C(style=document.querySelector(%22style%22),style%7C%7C(style=document.createElement(%22style%22),document.head.appendChild(style)),style.innerHTML+=%22#bibTexBookmarklet%7Bposition:fixed;top:0;right:0;width:270px;max-height:90vh;overflow-y:auto;overflow-x:hidden;padding:3.5px%2014.5px;background:linear-gradient(to%20bottom,#A1CA59,#6FAD01)%20#A1CA59;border-radius:4px;box-shadow:.5em%20.5em%20.5em%20grey;z-index:226000%7D#bibTexBookmarklet%20a,#bibTexBookmarklet%20b,#bibTexBookmarklet%20button,#bibTexBookmarklet%20div,#bibTexBookmarklet%20h3,#bibTexBookmarklet%20input,#bibTexBookmarklet%20li,#bibTexBookmarklet%20p%7Bfont-family:Arial,Helvetica;font-size:14px;line-height:16.5px;text-align:left%7D#bibTexBookmarklet%20p%7Bmargin-bottom:.25em%7D#bibTexBookmarklet%20hr%7Bmargin:.5em%7D#bibTexBookmarklet%20h3%7Bmargin:.75em%200%20.25em%7D#bibTexBookmarklet%20input,#bibTexBookmarklet%20textarea%7Bdisplay:block;box-sizing:border-box;width:100%25;height:auto;margin:.5em%200;padding:.25em;font-family:Arial,Helvetica%7D#bibTexBookmarklet%20button,#bibTexBookmarklet%20input%5Btype=submit%5D%7Bbox-sizing:border-box;overflow:hidden;height:21.2px;padding:3px%205px;border:none;border-radius:4px;line-height:1em;font-size:13px;background:linear-gradient(to%20bottom,#6BA1EF,#357FE9)%20#6BA1EF;color:#fff%7D#bibTexBookmarklet%20button:hover,#bibTexBookmarklet%20input%5Btype=submit%5D:hover%7Bbackground:#fff;color:#357fe9%7D#bibTexBookmarkletButtons%7Bposition:relative%7D#bibTexBookmarkletButtons%20button:first-child%7Bwidth:110px%7D#bibTexBookmarkletButtons%20button:nth-child(2)%7Bposition:absolute;left:calc(50%25%20-%209.25px);font-family:Courier,monospace;font-size:14px;font-weight:700;line-height:15.2px%7D#bibTexBookmarkletButtons%20button:last-child%7Bposition:absolute;right:0;width:110px%7D#bibTexBookmarkletClose%7Btext-align:right%7D#bibTexBookmarkletStatus%7Bfont-size:1em%7D#bibTexBookmarkletData%7Bfont-size:.9em%7D#bibTexBookmarkletData%20button%7Bmargin-top:.15em%7D#bibTexBookmarkletListBox%7Bmargin:0;padding:0%7D#bibTexBookmarkletList%7Bpadding:.25em%200;margin-left:1em;list-style-type:disc%7D#bibTexBookmarkletList%20li%7Bmargin-bottom:.5em%7D.bbtThisPage%7Bbackground-color:#ff0%7D.bbtHidden%7Bdisplay:none%7D%22),box='%3Cdiv%20id=%22'+bbt.ns+'%22%3E',box+='%3Cp%20id=%22'+bbt.ns+'Close%22%3E%3Cbutton%20onclick=%22bbt.close()%22%3ESchlie%C3%9Fen%3C/button%3E%3C/p%3E',bbt.savedDataQuery(),box+='%3Cdiv%20id=%22'+bbt.ns+'Form%22%3E',bbt.savedData&&bbt.bibtexQuery%7C%7C(box+=bbt.displayForm()),box+=%22%3C/div%3E%22,box+='%3Cdiv%20id=%22'+bbt.ns+'Status%22%3E',box+=bbt.bibtexQuery?bbt.savedData?bbt.status(%22dataExisting%22):bbt.status(%22bibtexInPage%22):bbt.status(%22noBibtexInPage%22),box+=%22%3C/div%3E%22,box+='%3Cdiv%20id=%22'+bbt.ns+'Data%22%3E',box+=bbt.datasetOutput(),box+=%22%3C/div%3E%22,box+='%3Csection%20id=%22'+bbt.ns+'ListBox%22%20class=%22bbtHidden%22%3E',box+=%22%3Ch3%3EAlle%20BibTeX-Datens%C3%A4tze%20f%C3%BCr%20%22+location.host+%22%3C/h3%3E%22,box+='%3Cul%20id=%22'+bbt.ns+'List%22%3E',bbt.listOutput(),box+=%22%3C/ul%3E%3C/section%3E%22,box+='%3Chr/%3E%3Cp%20id=%22'+bbt.ns+'Buttons%22%3E',box+='%3Cbutton%20onclick=%22return%20bbt.toggleList();%22%3E'+bbt.toggleButton.showText+%22%3C/button%3E%20%22,box+='%3Cbutton%20onclick=%22return%20bbt.info();%22%3Ei%3C/button%3E',box+='%3Cbutton%20onclick=%22return%20bbt.export();%22%3EExportieren%3C/button%3E',box+=%22%3C/p%3E%22,box+=%22%3C/div%3E%22,window.document.body.innerHTML+=box;})();